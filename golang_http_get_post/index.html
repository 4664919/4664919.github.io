	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.16-DEV" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>  &middot; simons blog </title>

  
  <link rel="stylesheet" href="http://blog.simonsun.net/css/poole.css">
  <link rel="stylesheet" href="http://blog.simonsun.net/css/syntax.css">
  <link rel="stylesheet" href="http://blog.simonsun.net/css/hyde.css">
  <link rel="stylesheet" href="http://blog.simonsun.net/css/fonts.googleapis.com.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="simons blog" />
  
  <script src="http://blog.simonsun.net/js/jquery.min.js"></script>
  <script src="http://blog.simonsun.net/js/highlight.min.js"></script>
  <link rel="stylesheet" href="http://blog.simonsun.net/js/highlight-github.min.css">
  
  <script>hljs.initHighlightingOnLoad();</script>
  <script type="text/javascript">
  $(document).ready(function() {
       
       
       
          });
</script>
</head>

	<body class="theme-base-08">
		<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://blog.simonsun.net/"><h1>simons blog</h1></a>
      <p class="lead">
       这里是Simon Sun的个人博客 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
        <li><a href="/golang-beego-use/"> BeeGo初探 </a></li>
      
        <li><a href="/golang-code-source/"> Golang 源码初探 </a></li>
      
        <li><a href="/logv3/"> golang日志系统架构设计 </a></li>
      
        <li><a href="/welcome/"> 你好，Hugo </a></li>
      
        <li><a href="/s/"> 你好，Hugo2 </a></li>
      
        <li><a href="/golang-testing/"> 测试相关－golang </a></li>
      
        <li><a href="/arithmetic-binary-search/"> 算法 － 二分查找(Binary Search) </a></li>
      
        <li><a href="/golang-testing-code-coverage/"> 覆盖率测试－测试相关－golang </a></li>
      
    </ul>

    <p>&copy; 2016. All rights reserved. </p>
  </div>
</div>


		<div class="content container">
			<div class="post">
			 	<h1></h1>
			  <span class="post-date">0001-01-01</span>
			      

<p>title: golang http get、post实例
tags:
  - golang
  - go</p>

<h2 id="date-2015-06-08-18-00-12:f073b65fa9169dea6fee5df40ae877d5">date: 2015-06-08 18:00:12</h2>

<p>生活中我们有很多代码格式是固定的，轮子造好后应该去创造其他东西，而不是重复造轮子。所以以下golang方式get、post做一个记录。以后可以直接copy使用</p>

<p>{% codeblock lang:golang %}
package main</p>

<p>import (
     &ldquo;fmt&rdquo;
     &ldquo;io/ioutil&rdquo;
     &ldquo;net/http&rdquo;
     &ldquo;net/url&rdquo;
     &ldquo;os&rdquo;
)</p>

<p>func main() {
     var sender = &ldquo;simonsun&rdquo;
     v := url.Values{}
     v.Set(&ldquo;type&rdquo;, &ldquo;tip&rdquo;)
     v.Add(&ldquo;sender&rdquo;, sender)
     v.Add(&ldquo;recvusers&rdquo;, sender)
     v.Add(&ldquo;message&rdquo;, &ldquo;骚年，你好content&rdquo;)
     v.Add(&ldquo;title&rdquo;, &ldquo;骚年，你好title&rdquo;)
     v.Add(&ldquo;pwd&rdquo;, &ldquo;123456&rdquo;)
     var url_info = &ldquo;<a href="http://rtx.oa.com:8013/service/index.php?&quot;">http://rtx.oa.com:8013/service/index.php?&quot;</a> + v.Encode()
     fmt.Println(url_info)
     //get 方式
     resp, err := http.Get(url_info)
     //post 方式
     //resp, err := http.PostForm(&ldquo;<a href="http://rtx.oa.com:8012/service/index.php&quot;">http://rtx.oa.com:8012/service/index.php&quot;</a>, v)
     if err == nil {
          body, err := ioutil.ReadAll(resp.Body)
          defer resp.Body.Close()
          if err == nil {
               fmt.Println(string(body))
               fmt.Println(err)
          } else {</p>

<pre><code>           fmt.Println(&quot;parse io read error&quot;, err)
      }
 } else {
      fmt.Println(&quot;http rtx error http error:&quot;, err)
 }
 os.Exit(1)
</code></pre>

<p>}
{% endcodeblock %}</p>

			</div>

			
		</div>

  </body>
</html>
